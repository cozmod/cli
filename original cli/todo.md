# برنامه کاری برای پیاده‌سازی رابط کاربری مبتنی بر Gemini CLI

## بررسی ساختار فعلی

### رابط کاربری فعلی (cli)
- رابط کاربری وب با استفاده از Flask
- ارتباط با Gemini CLI از طریق WebSocket
- دو پنل اصلی: خروجی Gemini و ترمینال زنده
- امکان راه‌اندازی موتور Gemini و ارسال دستورات

### Gemini CLI اصلی (original-cli)
- CLI مبتنی بر Node.js
- استفاده از پکیج‌های cli و core
- پشتیبانی از دستورات مختلف با پیشوند /، @ و !
- ابزارهای متنوع برای تعامل با فایل‌سیستم، اجرای دستورات شل و...

## مشکلات و چالش‌های فعلی
- رابط کاربری فعلی به خوبی کار نمی‌کند
- نیاز به درک بهتر از نحوه تعامل با Gemini CLI
- نیاز به بهبود ارتباط بین بک‌اند و فرانت‌اند

## مراحل پیاده‌سازی

### 1. بهبود ارتباط با Gemini CLI
- [ ] بررسی دقیق‌تر نحوه اجرای Gemini CLI و پارامترهای آن
- [ ] بهبود مکانیزم ارسال دستورات به Gemini CLI
- [ ] پردازش بهتر خروجی‌های Gemini CLI

### 2. بهبود رابط کاربری
- [ ] بهبود نمایش خروجی Gemini
- [ ] اضافه کردن پشتیبانی از دستورات اصلی Gemini CLI (دستورات / و @)
- [ ] بهبود ظاهر و تجربه کاربری

### 3. اضافه کردن قابلیت‌های پیشرفته
- [ ] پشتیبانی از ابزارهای Gemini CLI
- [ ] امکان ذخیره و بازیابی تاریخچه گفتگو
- [ ] پشتیبانی از تم‌های مختلف

### 4. تست و رفع اشکال
- [ ] تست عملکرد با دستورات مختلف
- [ ] بررسی سازگاری با نسخه‌های مختلف Gemini CLI
- [ ] رفع اشکالات احتمالی

## نکات مهم

### نحوه اجرای Gemini CLI
- Gemini CLI با دستور `gemini` یا `npx @google/gemini-cli` اجرا می‌شود
- می‌توان از API key یا احراز هویت OAuth استفاده کرد
- دستورات مختلف با پیشوندهای /، @ و ! قابل استفاده هستند

### ساختار پروژه Gemini CLI
- پکیج cli: رابط کاربری ترمینال
- پکیج core: هسته اصلی و ارتباط با API
- ابزارها: قابلیت‌های تعامل با محیط محلی

### نحوه ارتباط با Gemini CLI در رابط کاربری فعلی
- استفاده از subprocess برای اجرای Gemini CLI
- ارسال دستورات از طریق stdin
- دریافت خروجی از طریق stdout و stderr